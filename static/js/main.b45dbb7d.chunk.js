(this["webpackJsonpnkl-bank"]=this["webpackJsonpnkl-bank"]||[]).push([[0],{217:function(e,t){},223:function(e,t,a){e.exports=a(417)},228:function(e,t,a){},230:function(e,t,a){},417:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),l=a.n(c),o=(a(228),a(229),a(230),a(19)),s=a(83),i=a(75),u=a(432),m=a(433),d=a(434),p=a(435),b=a(436),E=a(437),f=Object(n.createContext)(),h=a(55),y=a(421),g=a(423),O=a(31),v=Object(n.createContext)(),j=h.a.Option,k={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},w={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},I=function(e){var t=y.a.useForm(),a=Object(o.a)(t,1)[0],n=r.a.createElement(y.a.Item,{name:"prefix",noStyle:!0},r.a.createElement(h.a,{style:{width:70}},r.a.createElement(j,{value:"86"},"+86"),r.a.createElement(j,{value:"87"},"+87")));return r.a.createElement("div",null,r.a.createElement(y.a,Object.assign({},k,{form:a,name:"register",onFinish:function(e){console.log("Received values of form: ",e)},initialValues:{residence:["zhejiang","hangzhou","xihu"],prefix:"86"},scrollToFirstError:!0}),r.a.createElement(y.a.Item,{name:"username",label:"username",rules:[{required:!0}]},r.a.createElement(g.a,null)),r.a.createElement(y.a.Item,{name:"fullname",label:"fullname",rules:[{required:!0}]},r.a.createElement(g.a,null)),r.a.createElement(y.a.Item,{name:"email",label:"E-mail",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]},r.a.createElement(g.a,null)),r.a.createElement(y.a.Item,{name:"password",label:"Password",rules:[{required:!0,message:"Please input your password!"}],hasFeedback:!0},r.a.createElement(g.a.Password,null)),r.a.createElement(y.a.Item,{name:"confirm",label:"Confirm Password",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("password")!==a?Promise.reject("The two passwords that you entered do not match!"):Promise.resolve()}}}]},r.a.createElement(g.a.Password,null)),r.a.createElement(y.a.Item,{name:"phone",label:"Phone Number",rules:[{required:!0,message:"Please input your phone number!"}]},r.a.createElement(g.a,{addonBefore:n,style:{width:"100%"}})),r.a.createElement(y.a.Item,w,r.a.createElement(O.a,{type:"primary",htmlType:"submit"},"Register"))))},S=Object(n.createContext)(),R=function(e){var t=Object(n.useContext)(S),a=Object(n.useContext)(v),c=t.accountsOwner;a.setAlert,a.alerts;return r.a.createElement("div",null,r.a.createElement("hr",null),r.a.createElement("div",{className:"mt-5"},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e,t){return r.a.createElement("div",{key:t,className:"container ml-5"},r.a.createElement("div",null,r.a.createElement("b",null,"So tai khoan:"),"  ",e.account_number),r.a.createElement("div",null,r.a.createElement("b",null,"So du hien tai:")," ",e.account_balance," VND"),r.a.createElement("div",null,r.a.createElement("b",null,"Loai tai khoan:")," ",1===e.type?r.a.createElement("span",null,"Thanh toan"):r.a.createElement("span",null,"Tiet kiem")),r.a.createElement("br",null))}))}(c)))},x=a(106),C=a(26),N=a.n(C),T=a(7),_=a(38),P=a(108),A=a(428),F=a(422),B=a(420),L=a(429),D=r.a.createContext(),G=function(e){e.index;var t=Object(P.a)(e,["index"]),a=y.a.useForm(),n=Object(o.a)(a,1)[0];return r.a.createElement(y.a,{form:n,component:!1},r.a.createElement(D.Provider,{value:n},r.a.createElement("tr",t)))},U=function(e){var t=e.title,a=e.editable,c=e.children,l=e.dataIndex,i=e.record,u=e.handleSave,m=Object(P.a)(e,["title","editable","children","dataIndex","record","handleSave"]),d=Object(n.useState)(!1),p=Object(o.a)(d,2),b=p[0],E=p[1],f=Object(n.useRef)(),h=Object(n.useContext)(D);Object(n.useEffect)((function(){b&&f.current.focus()}),[b]);var O=function(){E(!b),h.setFieldsValue(Object(s.a)({},l,i[l]))},v=function(){var e=Object(_.a)(N.a.mark((function e(t){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.validateFields();case 3:a=e.sent,O(),u(Object(T.a)(Object(T.a)({},i),a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Save failed:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),j=c;return a&&(j=b?r.a.createElement(y.a.Item,{style:{margin:0},name:l,rules:[{required:!0,message:"".concat(t," is required.")}]},r.a.createElement(g.a,{ref:f,onPressEnter:v,onBlur:v})):r.a.createElement("div",{className:"editable-cell-value-wrap",style:{paddingRight:24},onClick:O},c)),r.a.createElement("td",m,j)},q=function(){var e=Object(n.useContext)(S),t=e.beneficiaries,a=(e.addBeneficiaryRes,e.addBeneficiary),c=e.updateListBeneficiaryInfo,l=Object(n.useState)(t),s=Object(o.a)(l,2),i=s[0],u=s[1],m=Object(n.useState)(!1),d=Object(o.a)(m,2),p=d[0],b=d[1],E=function(e){var t=Object(T.a)(Object(T.a)({},e),{},{type:"update"}),a=Object(x.a)(i),n=a.findIndex((function(e){return t.beneficiary_account===e.beneficiary_account})),r=a[n];a.splice(n,1,Object(T.a)(Object(T.a)({},r),t)),u(a)},f={body:{row:G,cell:U}},h=[{title:"name",dataIndex:"beneficiary_name",width:"30%",editable:!0},{title:"account number",dataIndex:"beneficiary_account"},{title:"operation",dataIndex:"operation",render:function(e,a){return t.length>=1?r.a.createElement(A.a,{title:"Sure to delete?",onConfirm:function(){return function(e){var t=Object(T.a)(Object(T.a)({},e),{},{type:"del"}),a=Object(x.a)(i),n=a.findIndex((function(e){return t.beneficiary_account===e.beneficiary_account})),r=a[n];a.splice(n,1,Object(T.a)(Object(T.a)({},r),t)),u(a)}(a)}},r.a.createElement("a",{className:"text-danger"},r.a.createElement(L.a,null)," Delete  ")):null}}].map((function(e){return e.editable?Object(T.a)(Object(T.a)({},e),{},{onCell:function(t){return{record:t,editable:e.editable,dataIndex:e.dataIndex,title:e.title,handleSave:E}}}):e}));return r.a.createElement("div",null,r.a.createElement(O.a,{onClick:function(){return b(!0)},type:"primary",style:{marginBottom:16}},"Add a beneficiry"),r.a.createElement("div",null,r.a.createElement(F.a,{title:"Basic Modal",visible:p,onOk:function(){return b(!1)},onCancel:function(){return b(!1)}},r.a.createElement(y.a,{name:"basic",initialValues:{remember:!0},onFinish:function(e){a({beneficiary_account:e.accountnumber,name:e.remindname||""})},onFinishFailed:function(e){console.log("Failed:",e)}},r.a.createElement(y.a.Item,{name:"remindname"},r.a.createElement(g.a,{placeholder:"Remind Name"})),r.a.createElement(y.a.Item,{name:"accountnumber",rules:[{required:!0,message:"Please input beneficiary account number!"}]},r.a.createElement(g.a,{placeholder:"beneficiary account number"})),r.a.createElement(y.a.Item,null,r.a.createElement(O.a,{type:"primary",htmlType:"submit"},"Submit"))))),r.a.createElement(B.a,{rowKey:"beneficiary_account",components:f,rowClassName:function(){return"editable-row"},bordered:!0,dataSource:i.filter((function(e){return"del"!==e.type})),columns:h}),r.a.createElement(O.a,{onClick:function(){c(i)}},"Save changes"))},V=function(){var e=Object(n.useContext)(S).changePassword;return r.a.createElement("div",{className:"m-5 p-5 border shadow p-3 mb-5 bg-white rounded"},r.a.createElement(y.a,{name:"basic",initialValues:{remember:!0},onFinish:function(t){console.log("Success:",t),e({oldPassword:t.oldPassword,newPassword:t.newPassword})},onFinishFailed:function(e){console.log("Failed:",e)}},r.a.createElement(y.a.Item,{label:"Password",name:"oldPassword",rules:[{required:!0,message:"Please input your password!"}]},r.a.createElement(g.a.Password,null)),r.a.createElement(y.a.Item,{name:"newPassword",label:"New Password",rules:[{required:!0,message:"Please input your password!"}],hasFeedback:!0},r.a.createElement(g.a.Password,null)),r.a.createElement(y.a.Item,{name:"confirmPassword",label:"Confirm Password",dependencies:["newPassword"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("newPassword")!==a?Promise.reject("The two passwords that you entered do not match!"):Promise.resolve()}}}]},r.a.createElement(g.a.Password,null)),r.a.createElement(y.a.Item,null,r.a.createElement(O.a,{type:"primary",htmlType:"submit"},"Submit"))))},J=a(426),Y=a(424),K=a(419),W=a(107),z=a(430),M=a(431),H=Y.a.Panel,$=h.a.Option,Q={labelCol:{span:8},wrapperCol:{span:16}},X=function(e,t){return{value:e,label:r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},e,r.a.createElement("span",null,r.a.createElement(z.a,null)," ",t))}},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[{options:e.map((function(e,t){return null===e.partner_bank&&X(e.beneficiary_account,e.beneficiary_name)}))}]},ee=function(){var e=Object(n.useContext)(S),t=e.beneficiaries,a=(e.beneficiary,e.accountsOwner),c=(e.getBeneficiry,Object(n.useState)(!0)),l=Object(o.a)(c,2),s=l[0],i=l[1],u=Object(n.useState)({}),m=Object(o.a)(u,2),d=(m[0],m[1],Object(n.useState)({})),p=Object(o.a)(d,2),b=p[0],E=p[1],f=Object(n.useState)(!1),v=Object(o.a)(f,2),j=v[0],k=v[1],w=Object(n.useState)(!1),I=Object(o.a)(w,2),R=I[0],x=I[1];return r.a.createElement("div",null,r.a.createElement(y.a,Object.assign({},Q,{name:"basic",initialValues:{remember:!0,bank:"NKLBank"},onFinishFailed:function(e){console.log("Failed:",e)}}),r.a.createElement(y.a.Item,{label:"Your account",className:"border-bottom border-light p-3",name:"depositor",rules:[{required:!0,message:"Please choose your account!"}]},r.a.createElement(h.a,{autoFocus:!0,placeholder:"Select your account"},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e,t){return r.a.createElement($,{value:e.account_number,key:t},e.account_number)}))}(a))),r.a.createElement(y.a.Item,{label:"Beneficiary",className:"border-bottom border-light p-3",name:"receiver",rules:[{required:!0,message:"Please choose beneficiary!"}]},r.a.createElement(K.a,{dropdownClassName:"certain-category-search-dropdown",options:Z(t),onSelect:function(e){t.forEach((function(t){t.beneficiary_account===e&&(console.log("value",t),E(t),i("1"),x(!1))}))}},r.a.createElement(g.a.Search,{size:"large",placeholder:"input here",onSearch:function(e){return console.log(e)}}))),r.a.createElement(y.a.Item,{label:"Save Beneficiary",className:"border-bottom border-light pl-3"},r.a.createElement(W.a,{disabled:!R,onChange:function(){return k(!j)}}," ")),r.a.createElement(Y.a,{activeKey:[s],bordered:!0,expandIcon:function(e){var t=e.isActive;return r.a.createElement(M.a,{rotate:t?90:0})},className:"site-collapse-custom-collapse bg-light mb-4"},r.a.createElement(H,{header:"Beneficiary's Information",key:"1",className:"site-collapse-custom-panel"},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("b",null,"Beneficiary's Name:")," ",e.beneficiary_name),r.a.createElement("p",null,r.a.createElement("b",null,"Account Number : "),e.beneficiary_account))}(b))),r.a.createElement(y.a.Item,null,r.a.createElement(O.a,{type:"primary",htmlType:"submit"},"Next"))))},te=J.a.Step,ae=function(){return r.a.createElement("div",null,r.a.createElement(ee,null),r.a.createElement(J.a,{size:"small",current:1},r.a.createElement(te,{title:"Finished"}),r.a.createElement(te,{title:"In Progress"}),r.a.createElement(te,{title:"Waiting"})))},ne=h.a.Option,re={labelCol:{span:8},wrapperCol:{span:16}},ce=[],le=[{title:"T\xe0i kho\u1ea3n g\u1eedi",dataIndex:"depositor",key:"depositor"},{title:"Ng\u01b0\u1eddi nh\u1eadn",dataIndex:"receiver",key:"receiver"},{title:"S\u1ed1 ti\u1ec1n",dataIndex:"amount",key:"amount"},{title:"Th\u1eddi gian",dataIndex:"timestamp",key:"timestamp"},{title:"Ghi ch\xfa",dataIndex:"note",key:"note"}],oe=[{title:"Chuy\u1ec3n ti\u1ec1n",key:"transfer"},{title:"Nh\u1eadn ti\u1ec1n",key:"receiver"},{title:"Tr\u1ea3 n\u1ee3",key:"debt"}],se=function(e){var t,a=Object(n.useContext)(S),c=a.transactions,l=a.accountsOwner,s=a.getTransactions,i=Object(n.useState)(ce),u=Object(o.a)(i,2),m=u[0],d=u[1],p=Object(n.useState)(le),b=Object(o.a)(p,2),E=b[0],f=(b[1],Object(n.useState)()),g=Object(o.a)(f,2),O=(g[0],g[1],function(e){for(var t=e,a=0;a<t.length;a++){var n=t[a],r=new Date(n.timestamp).toDateString();t[a]=Object(T.a)(Object(T.a)({},n),{},{key:n.id,timestamp:r})}return t});return r.a.createElement("div",null,r.a.createElement(y.a,Object.assign({},re,{name:"basic",initialValues:{remember:!0},onFinishFailed:function(){}}),r.a.createElement(y.a.Item,{label:"T\xe0i kho\u1ea3n",className:"border-bottom border-light p-3",name:"SelectedAccount"},r.a.createElement(h.a,{onSelect:function(e){console.log("finish ",e),s(e)},placeholder:"Ch\u1ecdn t\xe0i kho\u1ea3n"},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e,t){return r.a.createElement(ne,{value:e.account_number,key:t},e.account_number)}))}(l))),r.a.createElement(y.a.Item,{label:"Lo\u1ea1i giao d\u1ecbch",className:"border-bottom border-light p-3",name:"selectType"},r.a.createElement(h.a,{onSelect:function(e){switch(console.log("type",c),e){case"receiver":d(O(c.receivers));break;case"transfer":d(O(c.transfers));break;case"debt":d(O(c.debts))}},placeholder:"Ch\u1ecdn"},(t=oe,console.log(t),t.map((function(e){return r.a.createElement(ne,{title:e.title,value:e.key,key:e.key}," ",e.title)})))))),r.a.createElement(B.a,{dataSource:m,columns:E}))},ie=i.a.SubMenu,ue=[{title:"Danh sach tai khoan",content:r.a.createElement(R,null)},{title:"Thong tin",content:r.a.createElement(q,null)},{title:"L\u1ecbch s\u1eed giao d\u1ecbch",content:r.a.createElement(se,null)},{title:"Chuy\u1ec3n h\xe0ng n\u1ed9i \u0111\u1ecba",content:r.a.createElement(ae,null)},{title:"Ng\xe2n h\xe0ng kh\xe1c",content:"<TransferInterBankPage />"},{title:"Danh s\xe1ch n\u1ee3",content:"<CreateDebtPage />"},Object(s.a)({content:"Danh s\xe1ch ng\u01b0\u1eddi nh\u1eadn"},"content",r.a.createElement(I,null)),{title:"change password",content:r.a.createElement(V,null)}],me=function(){var e=Object(n.useContext)(f).logout,t=Object(n.useState)(!1),a=Object(o.a)(t,2),c=a[0],l=(a[1],Object(n.useState)("0")),s=Object(o.a)(l,2),h=s[0],y=s[1];return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-3"},r.a.createElement(i.a,{defaultSelectedKeys:["0"],defaultOpenKeys:["sub1","sub2","sub3"],mode:"inline",theme:"dark",inlineCollapsed:c,onClick:function(e){y(e.key)}},r.a.createElement(i.a.Item,{key:"0",icon:r.a.createElement(u.a,null)},"Danh s\xe1ch t\xe0i kho\u1ea3n"),r.a.createElement(i.a.Item,{key:"1",icon:r.a.createElement(m.a,null)},"Th\xf4ng tin"),r.a.createElement(i.a.Item,{key:"2",icon:r.a.createElement(d.a,null)},"L\u1ecbch s\u1eed giao d\u1ecbch"),r.a.createElement(ie,{key:"sub1",icon:r.a.createElement(p.a,null),title:"Chuy\u1ec3n ti\u1ec1n"},r.a.createElement(i.a.Item,{key:"3"},"Ng\xe2n h\xe0ng n\u1ed9i \u0111\u1ecba"),r.a.createElement(i.a.Item,{key:"4"},"Ng\xe2n h\xe0ng kh\xe1c")),r.a.createElement(ie,{key:"sub2",icon:r.a.createElement(b.a,null),title:"Danh s\xe1ch"},r.a.createElement(i.a.Item,{key:"5"},"Danh s\xe1ch n\u1ee3"),r.a.createElement(i.a.Item,{key:"6"},"Danh s\xe1ch ng\u01b0\u1eddi nh\u1eadn"),r.a.createElement(ie,{key:"sub3",title:"T\xe0i kho\u1ea3n"},r.a.createElement(i.a.Item,{key:"7"},"\u0110\u1ed5i m\u1eadt kh\u1ea9u"),r.a.createElement(i.a.Item,{onClick:function(){e()}},r.a.createElement(E.a,null),"Logout"))))),r.a.createElement("div",{className:"col-8 p-5 shadow bg-white rounded border "}," ",r.a.createElement("h2",null," ",ue[h].title),ue[h].content))},de=a(425),pe=function(){var e=Object(n.useContext)(S),t=Object(n.useContext)(v),a=(t.setAlert,t.alerts,e.getBeneficiries),c=e.getAccounts,l=e.error,o=e.success;return Object(n.useEffect)((function(){c(),a()}),[]),console.log(o),r.a.createElement("div",null,l&&de.a.error("Opps something wrong"),o&&de.a.success(o),r.a.createElement(me,null))},be=function(e){var t=Object(n.useContext)(v),a=Object(n.useContext)(f),c=a.login,l=a.error,o=a.clearErrors,s=a.isAuthenticated,i=t.setAlert;Object(n.useEffect)((function(){s&&e.history.push("/"),"Invalid Credentials"===l&&(i(l,"danger"),o())}),[l,s,e.history]);return r.a.createElement(y.a,{name:"basic",initialValues:{remember:!0},onFinish:function(e){console.log("Success:",e),c(Object(T.a)({},e))},onFinishFailed:function(e){console.log("Failed:",e)}},r.a.createElement(y.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}]},r.a.createElement(g.a,null)),r.a.createElement(y.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}]},r.a.createElement(g.a.Password,null)),r.a.createElement(y.a.Item,null,r.a.createElement(O.a,{type:"primary",htmlType:"submit"},"Submit")))},Ee=function(){var e=Object(n.useContext)(v);return e.alerts.length>0&&e.alerts.map((function(e){return r.a.createElement("div",{key:e.id,className:"alert alert-".concat(e.type)},r.a.createElement("i",{className:"fas fa-info-circle"})," ",e.msg)}))},fe=a(28),he=function(e){var t=e.component,a=Object(P.a)(e,["component"]);return r.a.createElement(fe.b,Object.assign({},a,{render:function(e){return localStorage.getItem("token")?r.a.createElement(t,e):r.a.createElement(fe.a,{to:"/login"})}}))},ye=a(34),ge=a.n(ye),Oe=Object(n.createContext)(),ve=a(217),je=a.n(ve),ke=function(e){e?ge.a.defaults.headers.common["x-access-token"]=e:delete ge.a.defaults.headers.common["x-access-token"]},we=function(e){var t={loading:null,error:null,success:null,token:localStorage.getItem("token")},a=Object(n.useReducer)(je.a,t),c=Object(o.a)(a,2);c[0],c[1];return r.a.createElement(Oe.Provider,{value:{}},e.children)},Ie=Object(n.createContext)(),Se=function(e,t){switch(t.type){case"USER_ERROR":return{state:e};default:return e}},Re=function(e){var t={loading:null,error:null,success:null,token:localStorage.getItem("token")},a=Object(n.useReducer)(Se,t),c=Object(o.a)(a,2);c[0],c[1];return r.a.createElement(Ie.Provider,{value:{}},e.children)},xe=function(e,t){switch(t.type){case"LOGIN_SUCCESS":return console.log("login",t),localStorage.setItem("token",JSON.stringify(t.payload)),Object(T.a)(Object(T.a)(Object(T.a)({},e),t.payload),{},{isAuthenticated:!0,loading:!1});case"USER_LOADED":return Object(T.a)(Object(T.a)({},e),{},{isAuthenticated:!0,loading:!1,user:t.payload});case"REGISTER_SUCCESS":case"REGISTER_FAIL":case"AUTH_ERROR":case"LOGIN_FAIL":case"LOGOUT":return localStorage.removeItem("token"),Object(T.a)(Object(T.a)({},e),{},{token:null,isAuthenticated:!1,loading:!1,user:null,error:t.payload});case"CLEAR_ERRORS":return Object(T.a)(Object(T.a)({},e),{},{error:null});default:return e}},Ce=function(e){var t={token:localStorage.getItem("token"),isAuthenticated:null,loading:null,user:null,error:null},a=Object(n.useReducer)(xe,t),c=Object(o.a)(a,2),l=c[0],s=c[1],i=function(){var e=Object(_.a)(N.a.mark((function e(t){var a,n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,ge.a.post("/api/auth",t,a);case 4:n=e.sent,console.log(n.data),s({type:"LOGIN_SUCCESS",payload:n.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),s({type:"LOGIN_FAIL",payload:e.t0.response.data.msg});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(f.Provider,{value:{token:l.token,isAuthenticated:l.isAuthenticated,loading:l.loading,user:l.user,error:l.error,login:i,logout:function(){return s({type:"LOGOUT"})}}},e.children)},Ne=a(427),Te=function(e,t){switch(t.type){case"SET_ALERT":return[].concat(Object(x.a)(e),[t.payload]);case"REMOVE_ALERT":return e.filter((function(e){return e.id!==t.payload}));default:return e}},_e=function(e){var t=Object(n.useReducer)(Te,[]),a=Object(o.a)(t,2),c=a[0],l=a[1];return r.a.createElement(v.Provider,{value:{alerts:c,setAlert:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3,n=Object(Ne.a)();l({type:"SET_ALERT",payload:{msg:e,type:t,id:n}}),setTimeout((function(){return l({type:"REMOVE_ALERT",payload:n})}),a)}}},e.children)},Pe=function(e,t){switch(t.type){case"GET_ACCOUNT":return Object(T.a)(Object(T.a)({},e),{},{accountsOwner:t.payload,error:null,loading:!1});case"GET_BENEFICIARIES":return Object(T.a)(Object(T.a)({},e),{},{beneficiaries:t.payload,error:null,loading:!1});case"ADD_BENEFICIARY":return Object(T.a)(Object(T.a)({},e),{},{addBeneficiaryRes:t.payload,error:null,success:"add beneficiary successfully",loading:!1});case"UPDATE_BENEFICIARIES":return Object(T.a)(Object(T.a)({},e),{},{res:t.payload,error:null,success:"update successfully",loading:!1});case"CHANGE_PASSWORD":return Object(T.a)(Object(T.a)({},e),{},{res:t.payload,error:null,success:"change password successfully!!",loading:!1});case"GET_BENEFICIARY":return Object(T.a)(Object(T.a)({},e),{},{beneficiary:t.payload,error:null,loading:!1});case"GET_TRANSACTIONS":return Object(T.a)(Object(T.a)({},e),{},{transactions:t.payload,error:null,loading:!1});case"USER_ERROR":return Object(T.a)(Object(T.a)({},e),{},{error:t.payload,success:null,loading:!1});default:return e}},Ae=function(e){var t={loading:null,accountsOwner:[],beneficiaries:[],error:null,success:null,beneficiary:{},addBeneficiaryRes:null,getTransactions:null,token:localStorage.getItem("token")},a=Object(n.useReducer)(Pe,t),c=Object(o.a)(a,2),l=c[0],s=c[1],i=function(){var e=Object(_.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ke(JSON.parse(localStorage.getItem("token")).accessToken),e.prev=1,e.next=4,ge.a.get("/api/customer/accounts");case 4:t=e.sent,s({type:"GET_ACCOUNT",payload:t.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),s({type:"USER_ERROR",payload:e.t0.response});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(_.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ke(JSON.parse(localStorage.getItem("token")).accessToken),e.prev=1,e.next=4,ge.a.get("/api/customer/beneficiaries");case 4:t=e.sent,s({type:"GET_BENEFICIARIES",payload:t.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),s({type:"USER_ERROR",payload:e.t0.response});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(_.a)(N.a.mark((function e(t){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ke(JSON.parse(localStorage.getItem("token")).accessToken),e.prev=1,e.next=4,ge.a.post("/api/customer/add-beneficiary",t);case 4:a=e.sent,s({type:"ADD_BENEFICIARY",payload:a.data}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0.response),s({type:"USER_ERROR",payload:e.t0.response});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(_.a)(N.a.mark((function e(t){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ke(JSON.parse(localStorage.getItem("token")).accessToken),e.prev=1,e.next=4,ge.a.post("/api/customer/update-beneficiary/",t);case 4:a=e.sent,s({type:"UPDATE_BENEFICIARIES",payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),s({type:"USER_ERROR",payload:e.t0.response});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(_.a)(N.a.mark((function e(t){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ke(JSON.parse(localStorage.getItem("token")).accessToken),e.prev=1,e.next=4,ge.a.put("/api/customer/passwords/ibanking",t);case 4:a=e.sent,s({type:"CHANGE_PASSWORD",payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),s({type:"USER_ERROR",payload:e.t0.response});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(_.a)(N.a.mark((function e(t){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ke(JSON.parse(localStorage.getItem("token")).accessToken),e.prev=1,e.next=4,ge.a.post("/api/account/",t);case 4:a=e.sent,s({type:"GET_BENEFICIARY",payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),s({type:"BENEFICIARY_ERROR",payload:e.t0.response});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(_.a)(N.a.mark((function e(t){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ke(JSON.parse(localStorage.getItem("token")).accessToken),e.prev=1,e.next=4,ge.a.get("/api/customer/transactions/normal?account_number="+t);case 4:a=e.sent,s({type:"GET_TRANSACTIONS",payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),s({type:"GET_TRANSACTIONS",payload:e.t0.response});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(S.Provider,{value:{accountsOwner:l.accountsOwner,beneficiaries:l.beneficiaries,addBeneficiaryRes:l.addBeneficiaryRes,beneficiary:l.beneficiary,transactions:l.transactions,success:l.success,error:l.error,getAccounts:i,getBeneficiries:u,updateListBeneficiaryInfo:d,addBeneficiary:m,changePassword:p,getBeneficiry:b,getTransactions:E}},e.children)},Fe=a(120),Be=function(){return r.a.createElement(Ce,null,r.a.createElement(Ae,null,r.a.createElement(_e,null,r.a.createElement(we,null,r.a.createElement(Re,null,r.a.createElement(Fe.a,null,r.a.createElement(n.Fragment,null,r.a.createElement(fe.d,null,r.a.createElement("div",null,r.a.createElement(Ee,null),r.a.createElement(he,{exact:!0,path:"/",component:pe}),r.a.createElement(fe.b,{exact:!0,path:"/login",component:be}))))))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(Be,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[223,1,2]]]);
//# sourceMappingURL=main.b45dbb7d.chunk.js.map